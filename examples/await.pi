
import time
import sync

func foo(wg, x) {
	time.sleep(1000)
	print(x)
	wg.done()
}

await = sync.await()

start_time = time.time()
for i = 0; i < 10; i++ {
	await.add(1)
	async foo(await, i)
}
await.wait()
end_time = time.time()

print("cost time:", end_time - start_time)
